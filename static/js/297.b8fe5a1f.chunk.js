(self.webpackChunkmonkey_blogging=self.webpackChunkmonkey_blogging||[]).push([[297],{5456:function(e,t,n){"use strict";n.d(t,{Y:function(){return l}});n(2791);var r=n(184),o=n(1413),i=n(4925),s=n(1134),a=["checked","children","control","name"],l=function(e){var t=e.checked,n=e.children,l=e.control,c=e.name,d=(0,i.Z)(e,a),u=(0,s.bc)({control:l,name:c,defaultValue:""}).field;return(0,r.jsxs)("label",{children:[(0,r.jsx)("input",(0,o.Z)((0,o.Z)({onChange:function(){},checked:t,type:"radio",className:"hidden-input"},u),d)),(0,r.jsxs)("div",{className:"flex items-center gap-x-3 font-medium cursor-pointer",children:[(0,r.jsx)("div",{className:"w-7 h-7 rounded-full ".concat(t?"bg-green-400":"bg-gray-200")}),(0,r.jsx)("span",{children:n})]})]})}},8378:function(e,t,n){"use strict";n.d(t,{L:function(){return h}});var r=n(1413),o=n(4925),i=n(2791),s=n(9439),a=n(184),l=(0,i.createContext)();function c(e){var t=(0,i.useState)(!1),n=(0,s.Z)(t,2),r=n[0],o=n[1],c={show:r,setShow:o,toggle:function(){o(!r)}};return(0,a.jsx)(l.Provider,{value:c,children:e.children})}function d(){var e=(0,i.useContext)(l);if("undefined"===typeof e)throw new Error("useDropdown must be used within DropdownProvider");return e}var u=["children"],h=function(e){var t=e.children,n=(0,o.Z)(e,u);return(0,a.jsx)(c,(0,r.Z)((0,r.Z)({},n),{},{children:(0,a.jsx)("div",{className:"relative inline-block w-full",children:t})}))},p=function(e){var t=e.onClick,n=d().setShow;return(0,a.jsx)("div",{className:"px-5 py-4 cursor-pointer flex items-center justify-between hover:bg-gray-100",onClick:function(){t&&t(),n(!1)},children:e.children})},f=["placeholder"],g=function(e){var t=e.placeholder,n=(0,o.Z)(e,f),i=d().onChange;return(0,a.jsx)("div",{className:"p-2",children:(0,a.jsx)("input",(0,r.Z)({type:"text",placeholder:t,className:"p-4 outline-none w-full border border-gray-200 rounded",onChange:i},n))})},m=function(e){var t=e.placeholder,n=void 0===t?"":t,r=d(),o=r.toggle,i=r.show;return(0,a.jsxs)("div",{className:"flex items-center justify-between p-5 bg-[#E7ECF3] rounded cursor-pointer font-medium",onClick:o,children:[(0,a.jsx)("span",{children:n}),(0,a.jsx)("span",{children:i?(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5 15l7-7 7 7"})}):(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19 9l-7 7-7-7"})})})]})},v=function(e){var t=e.children,n=d().show;return(0,a.jsx)(a.Fragment,{children:n&&(0,a.jsx)("div",{className:"absolute top-full left-0 w-full bg-white shadow-sm",children:t})})};h.Option=p,h.Search=g,h.Select=m,h.List=v},9248:function(e,t,n){"use strict";n.d(t,{g:function(){return l},Y:function(){return c}});var r,o=n(168),i=(n(2791),n(6444)),s=n(184),a=i.ZP.div(r||(r=(0,o.Z)(["\n\tdisplay: flex;\n\tflex-direction: column;\n\talign-items: flex-start;\n\trow-gap: 20px;\n\tmargin-bottom: 40px;\n\t&:last-child {\n\t\tmargin-bottom: 0;\n\t}\n"]))),l=function(e){var t=e.children;return(0,s.jsx)(a,{children:t})},c=function(e){var t=e.children;return(0,s.jsx)("div",{className:"flex flex-wrap gap-5",children:t})}},3031:function(e,t,n){"use strict";var r=n(1413),o=n(4925),i=n(2791),s=n(184),a=["name","className","progress","image","handleDeleteImage"];t.Z=function(e){var t=e.name,n=e.className,l=void 0===n?"":n,c=e.progress,d=void 0===c?0:c,u=e.image,h=void 0===u?"":u,p=e.handleDeleteImage,f=void 0===p?function(){}:p,g=(0,o.Z)(e,a);return(0,s.jsxs)("label",{className:"cursor-pointer flex items-center justify-center border border-dashed w-full min-h-[200px] rounded-lg ".concat(l," relative overflow-hidden group"),children:[(0,s.jsx)("input",(0,r.Z)({type:"file",name:t,className:"hidden-input",onChange:function(){}},g)),0!==d&&!h&&(0,s.jsx)("div",{className:"absolute z-10 w-16 h-16 border-8 border-green-500 rounded-full loading border-t-transparent animate-spin"}),!h&&0===d&&(0,s.jsxs)("div",{className:"flex flex-col items-center text-center pointer-events-none",children:[(0,s.jsx)("img",{src:"/img-upload.png",alt:"upload-img",className:"max-w-[80px] mb-5"}),(0,s.jsx)("p",{className:"font-semibold",children:"Choose photo"})]}),h&&(0,s.jsxs)(i.Fragment,{children:[(0,s.jsx)("img",{src:h,className:"object-cover w-full h-full",alt:""}),(0,s.jsx)("button",{type:"button",className:"absolute z-10 flex items-center justify-center invisible w-16 h-16 text-red-500 transition-all bg-white rounded-full opacity-0 cursor-pointer group-hover:opacity-100 group-hover:visible",onClick:f,children:(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]}),!h&&(0,s.jsx)("div",{className:"absolute bottom-0 left-0 w-10 h-1 transition-all bg-green-400 image-upload-progress",style:{width:"".concat(Math.ceil(d),"%")}})]})}},3175:function(e,t,n){"use strict";var r,o=n(1413),i=n(4925),s=n(168),a=(n(2791),n(1134)),l=n(6444),c=n(184),d=["name","type","children","control"],u=l.ZP.div(r||(r=(0,s.Z)(["\n\tposition: relative;\n\twidth: 100%;\n\tinput {\n\t\twidth: 100%;\n\t\tpadding: ",";\n\t\tbackground-color: ",";\n\t\tborder-radius: 8px;\n\t\tfont-weight: 500;\n\t\ttransition: all 0.2s linear;\n\t\tborder: 1px solid transparent;\n\t}\n\tinput:focus {\n\t\tbackground-color: white;\n\t\tborder-color: ",";\n\t}\n\tinput::-webkit-input-placeholder {\n\t\tcolor: #84878b;\n\t}\n\tinput::-moz-input-placeholder {\n\t\tcolor: #84878b;\n\t}\n\t.input-icon {\n\t\tposition: absolute;\n\t\tright: 20px;\n\t\ttop: 50%;\n\t\ttransform: translateY(-50%);\n\t\tcursor: pointer;\n\t}\n"])),(function(e){return e.hasIcon?"20px 60px 20px 20px":"20px"}),(function(e){return e.theme.grayLight}),(function(e){return e.theme.primary}));t.Z=function(e){var t=e.name,n=void 0===t?"":t,r=e.type,s=void 0===r?"text":r,l=e.children,h=e.control,p=(0,i.Z)(e,d),f=(0,a.bc)({control:h,name:n,defaultValue:""}).field;return(0,c.jsxs)(u,{hasIcon:!!l,children:[(0,c.jsx)("input",(0,o.Z)((0,o.Z)({id:n,type:s},f),p)),l?(0,c.jsx)("div",{className:"input-icon",children:l}):null]})}},3117:function(e,t,n){"use strict";n.d(t,{I:function(){return r.Z}});var r=n(3175)},6848:function(e,t,n){"use strict";n.d(t,{_:function(){return h},O:function(){return f}});var r,o,i=n(1413),s=n(4925),a=n(168),l=(n(2791),n(6444)),c=n(184),d=["htmlFor","children"],u=l.ZP.label(r||(r=(0,a.Z)(["\n\tcolor: ",";\n\tfont-weight: 500;\n\tfont-size: 14px;\n\tcursor: pointer;\n"])),(function(e){return e.theme.gray4b})),h=function(e){var t=e.htmlFor,n=void 0===t?"":t,r=e.children,o=(0,s.Z)(e,d);return(0,c.jsx)(u,(0,i.Z)((0,i.Z)({htmlFor:n},o),{},{children:r}))},p=l.ZP.span(o||(o=(0,a.Z)(["\n\tdisplay: inline-block;\n\tpadding: 10px 15px;\n\tborder-radius: 8px;\n\tfont-size: 14px;\n\tfont-weight: 500;\n"]))),f=function(e){var t=e.children,n=e.type,r="text-gray-500 bg-gray-100";switch(void 0===n?"default":n){case"success":r="text-green-500 bg-green-100";break;case"warning":r="text-orange-500 bg-orange-100";break;case"danger":r="text-red-500 bg-red-100"}return(0,c.jsx)(p,{className:r,children:t})}},4961:function(e,t,n){"use strict";var r=n(1413),o=n(4925),i=(n(2791),n(184)),s=["on","onClick"];t.Z=function(e){var t=e.on,n=e.onClick,a=(0,o.Z)(e,s);return(0,i.jsxs)("label",{children:[(0,i.jsx)("input",{type:"checkbox",checked:t,className:"hidden-input",onChange:function(){},onClick:n}),(0,i.jsx)("div",(0,r.Z)((0,r.Z)({className:"inline-block w-[70px] h-[42px] relative cursor-pointer rounded-full p-1 transition-all ".concat(t?"bg-green-500":"bg-gray-300")},a),{},{children:(0,i.jsx)("span",{className:"transition-all w-[34px] h-[34px] bg-white rounded-full inline-block ".concat(t?"translate-x-[28px]":"")})}))]})}},1776:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});var r=n(9439),o=n(4453),i=n(2791);function s(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,s=(0,i.useState)(0),a=(0,r.Z)(s,2),l=a[0],c=a[1],d=(0,i.useState)(""),u=(0,r.Z)(d,2),h=u[0],p=u[1];if(e&&t){var f=function(e){var t=(0,o.cF)(),n=(0,o.iH)(t,"images/"+e.name),r=(0,o.B0)(n,e);r.on("state_changed",(function(e){var t=e.bytesTransferred/e.totalBytes*100;switch(c(t),console.log("Upload is "+l+"% done"),e.state){case"paused":console.log("Upload is paused");break;case"running":console.log("Upload is running");break;default:console.log("Nothing at all")}}),(function(e){console.log("Error")}),(function(){(0,o.Jt)(r.snapshot.ref).then((function(e){p(e)}))}))},g=function(t){var n=t.target.files[0];n&&(e("image_name",n.name),f(n))},m=function(){var e=(0,o.cF)(),r=(0,o.iH)(e,"images/"+(n||t("image_name")));(0,o.oq)(r).then((function(){console.log("Remove image successfully"),p(""),c(0)})).catch((function(e){console.log("Can not delete image")})),p("")},v=function(){p(""),c(0)};return{image:h,setImage:p,handleResetUpload:v,progress:l,handleSelectImage:g,handleDeleteImage:m}}}},8322:function(e,t,n){"use strict";n(2791);var r=n(184);t.Z=function(e){var t=e.title,n=void 0===t?"":t,o=e.desc,i=void 0===o?"":o,s=e.children;return(0,r.jsxs)("div",{className:"mb-10 flex items-start justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h1",{className:"dashboard-heading",children:n}),(0,r.jsx)("p",{className:"dashboard-short-desc",children:i})]}),s]})}},297:function(e,t,n){"use strict";n.r(t);var r=n(1413),o=n(4165),i=n(5861),s=n(9439),a=n(9062),l=n(2791),c=n(1134),d=n(1087),u=n(4167),h=n(5456),p=n(8378),f=n(9248),g=n(3031),m=n(3117),v=n(6848),x=n(4961),b=n(1199),y=n(1776),w=n(3585),j=n(8322),E=n(6770),C=n.n(E),k=(n(6009),n(9085)),Z=n(4569),N=n.n(Z),S=n(8113),_=n(333),P=n.n(_),D=n(184);E.Quill.register("modules/imageUploader",S.Z);t.default=function(){var e=(0,d.lr)(),t=(0,s.Z)(e,1)[0].get("id"),n=(0,l.useState)(""),E=(0,s.Z)(n,2),Z=E[0],S=E[1],_=(0,c.cI)({mode:"onChange"}),I=_.handleSubmit,L=_.control,U=_.setValue,O=_.watch,T=_.reset,M=_.getValues,A=_.formState,F=A.isValid,R=A.isSubmitting,V=M("image"),B=M("image_name"),K=(0,y.Z)(U,M,B,(function(){return Q.apply(this,arguments)})),Y=K.image,J=K.progress,q=K.setImage,z=K.handleSelectImage,H=K.handleDeleteImage;function Q(){return(Q=(0,i.Z)((0,o.Z)().mark((function e(){var n;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=(0,a.JU)(b.db,"posts",t),e.next=3,(0,a.r7)(n,{avatar:""});case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}(0,l.useEffect)((function(){q(V)}),[V,q]);var W=O("hot"),G=O("status");(0,l.useEffect)((function(){function e(){return(e=(0,i.Z)((0,o.Z)().mark((function e(){var n,r,i,s;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:return n=(0,a.JU)(b.db,"posts",t),e.next=5,(0,a.QT)(n);case 5:(r=e.sent).data()&&(T(r.data()),ie((null===(i=r.data())||void 0===i?void 0:i.category)||""),S((null===(s=r.data())||void 0===s?void 0:s.content)||""));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[t,T]);var X=(0,l.useState)([]),$=(0,s.Z)(X,2),ee=$[0],te=$[1],ne=(0,l.useState)(""),re=(0,s.Z)(ne,2),oe=re[0],ie=re[1];(0,l.useEffect)((function(){function e(){return(e=(0,i.Z)((0,o.Z)().mark((function e(){var t,n,i,s;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=(0,a.hJ)(b.db,"categories"),n=(0,a.IO)(t,(0,a.ar)("status","==",1)),e.next=4,(0,a.PL)(n);case 4:i=e.sent,s=[],i.forEach((function(e){s.push((0,r.Z)({id:e.id},e.data())),te(s)}));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]);var se=function(){var e=(0,i.Z)((0,o.Z)().mark((function e(t){var n,i;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=(0,a.JU)(b.db,"categories",t.id),e.next=3,(0,a.QT)(n);case 3:i=e.sent,U("category",(0,r.Z)({id:i.id},i.data())),ie(t);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ae=function(){var e=(0,i.Z)((0,o.Z)().mark((function e(n){var i;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(F){e.next=2;break}return e.abrupt("return");case 2:return i=(0,a.JU)(b.db,"posts",t),n.slug=P()(n.slug||n.title,{lower:!0}),n.status=Number(n.status),e.next=7,(0,a.r7)(i,(0,r.Z)((0,r.Z)({},n),{},{image:Y,content:Z}));case 7:k.Am.success("Update post successfully!");case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),le=(0,l.useMemo)((function(){return{toolbar:[["bold","italic","underline","strike"],["blockquote"],[{header:1},{header:2}],[{list:"ordered"},{list:"bullet"}],[{header:[1,2,3,4,5,6,!1]}],["link","image"]],imageUploader:{upload:function(){var e=(0,i.Z)((0,o.Z)().mark((function e(t){var n,r;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=new FormData).append("image",t),e.next=4,N()({method:"post",url:"https://api.imgbb.com/1/upload?key=6c81ce2f42aa002b833279d91dad07ba",data:n,headers:{"Content-Type":"multipart/form-data"}});case 4:return r=e.sent,e.abrupt("return",r.data.data.url);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}}),[]);return t?(0,D.jsxs)(D.Fragment,{children:[(0,D.jsx)(j.Z,{title:"Update post",desc:"Update post content"}),(0,D.jsxs)("form",{onSubmit:I(ae),children:[(0,D.jsxs)("div",{className:"grid grid-cols-2 gap-x-10 mb-10",children:[(0,D.jsxs)(f.g,{children:[(0,D.jsx)(v._,{children:"Title"}),(0,D.jsx)(m.I,{control:L,placeholder:"Enter your title",name:"title",required:!0})]}),(0,D.jsxs)(f.g,{children:[(0,D.jsx)(v._,{children:"Slug"}),(0,D.jsx)(m.I,{control:L,placeholder:"Enter your slug",name:"slug"})]})]}),(0,D.jsxs)("div",{className:"grid grid-cols-2 gap-x-10 mb-10",children:[(0,D.jsxs)(f.g,{children:[(0,D.jsx)(v._,{children:"Image"}),(0,D.jsx)(g.Z,{onChange:z,handleDeleteImage:H,className:"h-[250px]",progress:J,image:Y})]}),(0,D.jsxs)(f.g,{children:[(0,D.jsx)(v._,{children:"Category"}),(0,D.jsxs)(p.L,{children:[(0,D.jsx)(p.L.Select,{placeholder:"Select the category"}),(0,D.jsx)(p.L.List,{children:ee.length>0&&ee.map((function(e){return(0,D.jsx)(p.L.Option,{onClick:function(){return se(e)},children:e.name},e.id)}))})]}),(null===oe||void 0===oe?void 0:oe.name)&&(0,D.jsx)("span",{className:" inline-block p-3 rounded-lg bg-green-50 text-sm text-green-600 font-medium",children:null===oe||void 0===oe?void 0:oe.name})]}),(0,D.jsxs)(f.g,{children:[(0,D.jsx)(v._,{children:"Feature post"}),(0,D.jsx)(x.Z,{on:!0===W,onClick:function(){return U("hot",!W)}})]}),(0,D.jsxs)(f.g,{children:[(0,D.jsx)(v._,{children:"Status"}),(0,D.jsxs)(f.Y,{children:[(0,D.jsx)(h.Y,{name:"status",control:L,checked:Number(G)===w.cf.APPROVED,onClick:function(){return U("status","approved")},value:w.cf.APPROVED,children:"Approved"}),(0,D.jsx)(h.Y,{name:"status",control:L,checked:Number(G)===w.cf.PENDING,onClick:function(){return U("status","pending")},value:w.cf.PENDING,children:"Pending"}),(0,D.jsx)(h.Y,{name:"status",control:L,checked:Number(G)===w.cf.REJECTED,onClick:function(){return U("status","reject")},value:w.cf.REJECTED,children:"Reject"})]})]})]}),(0,D.jsxs)("div",{className:"mb-10",children:[(0,D.jsx)(v._,{children:"Content"}),(0,D.jsx)("div",{className:"w-full entry-content",children:(0,D.jsx)(C(),{modules:le,theme:"snow",value:Z,onChange:S})})]}),(0,D.jsx)(u.z,{type:"submit",className:"mx-auto w-[250px]",isLoading:R,disabled:R,children:"Update post"})]})]}):null}},8111:function(e,t,n){var r=n(1848);e.exports=function(e,t){return r(e,t)}},6770:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__assign||function(){return o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},o.apply(this,arguments)},i=this&&this.__spreadArrays||function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),o=0;for(t=0;t<n;t++)for(var i=arguments[t],s=0,a=i.length;s<a;s++,o++)r[o]=i[s];return r},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},a=s(n(2791)),l=s(n(4164)),c=s(n(8111)),d=s(n(6921)),u=function(e){function t(t){var n=e.call(this,t)||this;n.dirtyProps=["modules","formats","bounds","theme","children"],n.cleanProps=["id","className","style","placeholder","tabIndex","onChange","onChangeSelection","onFocus","onBlur","onKeyPress","onKeyDown","onKeyUp"],n.state={generation:0},n.selection=null,n.onEditorChange=function(e,t,r,o){var i,s,a,l;"text-change"===e?null===(s=(i=n).onEditorChangeText)||void 0===s||s.call(i,n.editor.root.innerHTML,t,o,n.unprivilegedEditor):"selection-change"===e&&(null===(l=(a=n).onEditorChangeSelection)||void 0===l||l.call(a,t,o,n.unprivilegedEditor))};var r=n.isControlled()?t.value:t.defaultValue;return n.value=null!==r&&void 0!==r?r:"",n}return r(t,e),t.prototype.validateProps=function(e){var t;if(a.default.Children.count(e.children)>1)throw new Error("The Quill editing area can only be composed of a single React element.");if(a.default.Children.count(e.children)&&"textarea"===(null===(t=a.default.Children.only(e.children))||void 0===t?void 0:t.type))throw new Error("Quill does not support editing on a <textarea>. Use a <div> instead.");if(this.lastDeltaChangeSet&&e.value===this.lastDeltaChangeSet)throw new Error("You are passing the `delta` object from the `onChange` event back as `value`. You most probably want `editor.getContents()` instead. See: https://github.com/zenoamaro/react-quill#using-deltas")},t.prototype.shouldComponentUpdate=function(e,t){var n,r=this;if(this.validateProps(e),!this.editor||this.state.generation!==t.generation)return!0;if("value"in e){var o=this.getEditorContents(),s=null!==(n=e.value)&&void 0!==n?n:"";this.isEqualValue(s,o)||this.setEditorContents(this.editor,s)}return e.readOnly!==this.props.readOnly&&this.setEditorReadOnly(this.editor,e.readOnly),i(this.cleanProps,this.dirtyProps).some((function(t){return!c.default(e[t],r.props[t])}))},t.prototype.shouldComponentRegenerate=function(e){var t=this;return this.dirtyProps.some((function(n){return!c.default(e[n],t.props[n])}))},t.prototype.componentDidMount=function(){this.instantiateEditor(),this.setEditorContents(this.editor,this.getEditorContents())},t.prototype.componentWillUnmount=function(){this.destroyEditor()},t.prototype.componentDidUpdate=function(e,t){var n=this;if(this.editor&&this.shouldComponentRegenerate(e)){var r=this.editor.getContents(),o=this.editor.getSelection();this.regenerationSnapshot={delta:r,selection:o},this.setState({generation:this.state.generation+1}),this.destroyEditor()}if(this.state.generation!==t.generation){var i=this.regenerationSnapshot,s=(r=i.delta,i.selection);delete this.regenerationSnapshot,this.instantiateEditor();var a=this.editor;a.setContents(r),h((function(){return n.setEditorSelection(a,s)}))}},t.prototype.instantiateEditor=function(){this.editor?this.hookEditor(this.editor):this.editor=this.createEditor(this.getEditingArea(),this.getEditorConfig())},t.prototype.destroyEditor=function(){this.editor&&this.unhookEditor(this.editor)},t.prototype.isControlled=function(){return"value"in this.props},t.prototype.getEditorConfig=function(){return{bounds:this.props.bounds,formats:this.props.formats,modules:this.props.modules,placeholder:this.props.placeholder,readOnly:this.props.readOnly,scrollingContainer:this.props.scrollingContainer,tabIndex:this.props.tabIndex,theme:this.props.theme}},t.prototype.getEditor=function(){if(!this.editor)throw new Error("Accessing non-instantiated editor");return this.editor},t.prototype.createEditor=function(e,t){var n=new d.default(e,t);return null!=t.tabIndex&&this.setEditorTabIndex(n,t.tabIndex),this.hookEditor(n),n},t.prototype.hookEditor=function(e){this.unprivilegedEditor=this.makeUnprivilegedEditor(e),e.on("editor-change",this.onEditorChange)},t.prototype.unhookEditor=function(e){e.off("editor-change",this.onEditorChange)},t.prototype.getEditorContents=function(){return this.value},t.prototype.getEditorSelection=function(){return this.selection},t.prototype.isDelta=function(e){return e&&e.ops},t.prototype.isEqualValue=function(e,t){return this.isDelta(e)&&this.isDelta(t)?c.default(e.ops,t.ops):c.default(e,t)},t.prototype.setEditorContents=function(e,t){var n=this;this.value=t;var r=this.getEditorSelection();"string"===typeof t?e.setContents(e.clipboard.convert(t)):e.setContents(t),h((function(){return n.setEditorSelection(e,r)}))},t.prototype.setEditorSelection=function(e,t){if(this.selection=t,t){var n=e.getLength();t.index=Math.max(0,Math.min(t.index,n-1)),t.length=Math.max(0,Math.min(t.length,n-1-t.index)),e.setSelection(t)}},t.prototype.setEditorTabIndex=function(e,t){var n,r;(null===(r=null===(n=e)||void 0===n?void 0:n.scroll)||void 0===r?void 0:r.domNode)&&(e.scroll.domNode.tabIndex=t)},t.prototype.setEditorReadOnly=function(e,t){t?e.disable():e.enable()},t.prototype.makeUnprivilegedEditor=function(e){var t=e;return{getHTML:function(){return t.root.innerHTML},getLength:t.getLength.bind(t),getText:t.getText.bind(t),getContents:t.getContents.bind(t),getSelection:t.getSelection.bind(t),getBounds:t.getBounds.bind(t)}},t.prototype.getEditingArea=function(){if(!this.editingArea)throw new Error("Instantiating on missing editing area");var e=l.default.findDOMNode(this.editingArea);if(!e)throw new Error("Cannot find element for editing area");if(3===e.nodeType)throw new Error("Editing area cannot be a text node");return e},t.prototype.renderEditingArea=function(){var e=this,t=this.props,n=t.children,r=t.preserveWhitespace,i={key:this.state.generation,ref:function(t){e.editingArea=t}};return a.default.Children.count(n)?a.default.cloneElement(a.default.Children.only(n),i):r?a.default.createElement("pre",o({},i)):a.default.createElement("div",o({},i))},t.prototype.render=function(){var e;return a.default.createElement("div",{id:this.props.id,style:this.props.style,key:this.state.generation,className:"quill "+(e=this.props.className,null!==e&&void 0!==e?e:""),onKeyPress:this.props.onKeyPress,onKeyDown:this.props.onKeyDown,onKeyUp:this.props.onKeyUp},this.renderEditingArea())},t.prototype.onEditorChangeText=function(e,t,n,r){var o,i;if(this.editor){var s=this.isDelta(this.value)?r.getContents():r.getHTML();s!==this.getEditorContents()&&(this.lastDeltaChangeSet=t,this.value=s,null===(i=(o=this.props).onChange)||void 0===i||i.call(o,e,t,n,r))}},t.prototype.onEditorChangeSelection=function(e,t,n){var r,o,i,s,a,l;if(this.editor){var d=this.getEditorSelection(),u=!d&&e,h=d&&!e;c.default(e,d)||(this.selection=e,null===(o=(r=this.props).onChangeSelection)||void 0===o||o.call(r,e,t,n),u?null===(s=(i=this.props).onFocus)||void 0===s||s.call(i,e,t,n):h&&(null===(l=(a=this.props).onBlur)||void 0===l||l.call(a,d,t,n)))}},t.prototype.focus=function(){this.editor&&this.editor.focus()},t.prototype.blur=function(){this.editor&&(this.selection=null,this.editor.blur())},t.displayName="React Quill",t.Quill=d.default,t.defaultProps={theme:"snow",modules:{},readOnly:!1},t}(a.default.Component);function h(e){Promise.resolve().then(e)}e.exports=u}}]);
//# sourceMappingURL=297.b8fe5a1f.chunk.js.map