{"version":3,"file":"static/js/376.abf3148b.chunk.js","mappings":"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","sources":["components/action/ActionView.js","components/action/ActionEdit.js","components/action/ActionDelete.js","components/label/Label.js","components/label/LabelStatus.js","components/table/Table.js","components/table/index.js","module/post/PostManage.js"],"sourcesContent":["import React from \"react\";\r\n\r\nconst ActionView = ({ onClick = () => {} }) => {\r\n\treturn (\r\n\t\t<span\r\n\t\t\tclassName=\"flex items-center justify-center w-10 h-10 border border-gray-200 rounded cursor-pointer\"\r\n\t\t\tonClick={onClick}\r\n\t\t>\r\n\t\t\t<svg\r\n\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\r\n\t\t\t\tclassName=\"w-5 h-5\"\r\n\t\t\t\tfill=\"none\"\r\n\t\t\t\tviewBox=\"0 0 24 24\"\r\n\t\t\t\tstroke=\"currentColor\"\r\n\t\t\t\tstrokeWidth=\"2\"\r\n\t\t\t>\r\n\t\t\t\t<path\r\n\t\t\t\t\tstrokeLinecap=\"round\"\r\n\t\t\t\t\tstrokeLinejoin=\"round\"\r\n\t\t\t\t\td=\"M15 12a3 3 0 11-6 0 3 3 0 016 0z\"\r\n\t\t\t\t/>\r\n\t\t\t\t<path\r\n\t\t\t\t\tstrokeLinecap=\"round\"\r\n\t\t\t\t\tstrokeLinejoin=\"round\"\r\n\t\t\t\t\td=\"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z\"\r\n\t\t\t\t/>\r\n\t\t\t</svg>\r\n\t\t</span>\r\n\t);\r\n};\r\n\r\nexport default ActionView;\r\n","import React from \"react\";\r\n\r\nconst ActionEdit = ({ onClick = () => {} }) => {\r\n\treturn (\r\n\t\t<span\r\n\t\t\tclassName=\"flex items-center justify-center w-10 h-10 border border-gray-200 rounded cursor-pointer\"\r\n\t\t\tonClick={onClick}\r\n\t\t>\r\n\t\t\t<svg\r\n\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\r\n\t\t\t\tclassName=\"w-5 h-5\"\r\n\t\t\t\tfill=\"none\"\r\n\t\t\t\tviewBox=\"0 0 24 24\"\r\n\t\t\t\tstroke=\"currentColor\"\r\n\t\t\t\tstrokeWidth=\"2\"\r\n\t\t\t>\r\n\t\t\t\t<path\r\n\t\t\t\t\tstrokeLinecap=\"round\"\r\n\t\t\t\t\tstrokeLinejoin=\"round\"\r\n\t\t\t\t\td=\"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z\"\r\n\t\t\t\t/>\r\n\t\t\t</svg>\r\n\t\t</span>\r\n\t);\r\n};\r\n\r\nexport default ActionEdit;\r\n","import React from \"react\";\r\n\r\nconst ActionDelete = ({ onClick = () => {} }) => {\r\n\treturn (\r\n\t\t<span\r\n\t\t\tclassName=\"flex items-center justify-center w-10 h-10 border border-gray-200 rounded cursor-pointer\"\r\n\t\t\tonClick={onClick}\r\n\t\t>\r\n\t\t\t<svg\r\n\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\r\n\t\t\t\tclassName=\"w-5 h-5\"\r\n\t\t\t\tfill=\"none\"\r\n\t\t\t\tviewBox=\"0 0 24 24\"\r\n\t\t\t\tstroke=\"currentColor\"\r\n\t\t\t\tstrokeWidth=\"2\"\r\n\t\t\t>\r\n\t\t\t\t<path\r\n\t\t\t\t\tstrokeLinecap=\"round\"\r\n\t\t\t\t\tstrokeLinejoin=\"round\"\r\n\t\t\t\t\td=\"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16\"\r\n\t\t\t\t/>\r\n\t\t\t</svg>\r\n\t\t</span>\r\n\t);\r\n};\r\n\r\nexport default ActionDelete;\r\n","import React from \"react\";\r\nimport styled from \"styled-components\";\r\n\r\nconst LabelStyles = styled.label`\r\n\tcolor: ${(props) => props.theme.gray4b};\r\n\tfont-weight: 500;\r\n\tfont-size: 14px;\r\n\tcursor: pointer;\r\n`;\r\n\r\nconst Label = ({ htmlFor = \"\", children, ...props }) => {\r\n\treturn (\r\n\t\t<LabelStyles htmlFor={htmlFor} {...props}>\r\n\t\t\t{children}\r\n\t\t</LabelStyles>\r\n\t);\r\n};\r\n\r\nexport default Label;\r\n","import React from \"react\";\r\nimport styled from \"styled-components\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nconst LabelStatusStyles = styled.span`\r\n\tdisplay: inline-block;\r\n\tpadding: 10px 15px;\r\n\tborder-radius: 8px;\r\n\tfont-size: 14px;\r\n\tfont-weight: 500;\r\n`;\r\n/**\r\n *\r\n * @param type - \"default\" \"success\" \"warning\" \"danger\"\r\n * @returns\r\n */\r\nconst LabelStatus = ({ children, type = \"default\" }) => {\r\n\tlet styleClassName = \"text-gray-500 bg-gray-100\";\r\n\tswitch (type) {\r\n\t\tcase \"success\":\r\n\t\t\tstyleClassName = \"text-green-500 bg-green-100\";\r\n\t\t\tbreak;\r\n\t\tcase \"warning\":\r\n\t\t\tstyleClassName = \"text-orange-500 bg-orange-100\";\r\n\t\t\tbreak;\r\n\t\tcase \"danger\":\r\n\t\t\tstyleClassName = \"text-red-500 bg-red-100\";\r\n\t\t\tbreak;\r\n\r\n\t\tdefault:\r\n\t\t\tbreak;\r\n\t}\r\n\treturn (\r\n\t\t<LabelStatusStyles className={styleClassName}>\r\n\t\t\t{children}\r\n\t\t</LabelStatusStyles>\r\n\t);\r\n};\r\nLabelStatus.propTypes = {\r\n\tchildren: PropTypes.node,\r\n\ttype: PropTypes.oneOf([\"default\", \"success\", \"warning\", \"danger\"])\r\n\t\t.isRequired,\r\n};\r\nexport default LabelStatus;\r\n","import React from \"react\";\r\nimport styled from \"styled-components\";\r\nconst TableStyles = styled.div`\r\n\toverflow-x: auto;\r\n\tbackground-color: white;\r\n\tborder-radius: 10px;\r\n\ttable {\r\n\t\twidth: 100%;\r\n\t}\r\n\tthead {\r\n\t\tbackground-color: #f7f7f8;\r\n\t}\r\n\tth,\r\n\ttd {\r\n\t\tvertical-align: middle;\r\n\t}\r\n\tth {\r\n\t\tpadding: 20px 30px;\r\n\t\tfont-weight: 600;\r\n\t\ttext-align: left;\r\n\t}\r\n\ttd {\r\n\t\tpadding: 15px 30px;\r\n\t}\r\n\ttbody {\r\n\t}\r\n`;\r\nconst Table = ({ children }) => {\r\n\treturn (\r\n\t\t<TableStyles>\r\n\t\t\t<table>{children}</table>\r\n\t\t</TableStyles>\r\n\t);\r\n};\r\n\r\nexport default Table;\r\n","const { default: Table } = require(\"./Table\");\r\nexport { Table };\r\n","import {\r\n\tcollection,\r\n\tdeleteDoc,\r\n\tdoc,\r\n\tgetDocs,\r\n\tlimit,\r\n\tonSnapshot,\r\n\tquery,\r\n\tstartAfter,\r\n\twhere,\r\n} from \"firebase/firestore\";\r\nimport { debounce } from \"lodash\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport Swal from \"sweetalert2\";\r\nimport { ActionDelete, ActionEdit, ActionView } from \"../../components/action\";\r\nimport { Button } from \"../../components/button\";\r\nimport { LabelStatus } from \"../../components/label\";\r\nimport { Table } from \"../../components/table\";\r\nimport { useAuth } from \"../../contexts/auth-context\";\r\nimport { db } from \"../../firebase-app/firebase-config\";\r\nimport { postStatus, userRole } from \"../../utils/constants\";\r\n\r\nconst POST_PER_PAGE = 10;\r\n\r\nconst PostManage = () => {\r\n\tconst [postList, setPostList] = useState([]);\r\n\tconst [filter, setFilter] = useState(\"\");\r\n\tconst [lastDoc, setLastDoc] = useState();\r\n\tconst [total, setTotal] = useState(0);\r\n\tconst navigate = useNavigate();\r\n\tuseEffect(() => {\r\n\t\tasync function fetchData() {\r\n\t\t\tconst colRef = collection(db, \"posts\");\r\n\t\t\tconst newRef = filter\r\n\t\t\t\t? query(\r\n\t\t\t\t\t\tcolRef,\r\n\t\t\t\t\t\twhere(\"title\", \">=\", filter),\r\n\t\t\t\t\t\twhere(\"title\", \"<=\", filter + \"utf8\")\r\n\t\t\t\t  )\r\n\t\t\t\t: query(colRef, limit(POST_PER_PAGE));\r\n\t\t\tconst documentSnapshots = await getDocs(newRef);\r\n\t\t\tconst lastVisible =\r\n\t\t\t\tdocumentSnapshots.docs[documentSnapshots.docs.length - 1];\r\n\r\n\t\t\tonSnapshot(colRef, (snapshot) => {\r\n\t\t\t\tsetTotal(snapshot.size);\r\n\t\t\t});\r\n\r\n\t\t\tonSnapshot(newRef, (snapshot) => {\r\n\t\t\t\tlet results = [];\r\n\t\t\t\tsnapshot.forEach((doc) => {\r\n\t\t\t\t\tresults.push({\r\n\t\t\t\t\t\tid: doc.id,\r\n\t\t\t\t\t\t...doc.data(),\r\n\t\t\t\t\t});\r\n\t\t\t\t});\r\n\t\t\t\tsetPostList(results);\r\n\t\t\t});\r\n\t\t\tsetLastDoc(lastVisible);\r\n\t\t}\r\n\t\tfetchData();\r\n\t}, [filter]);\r\n\tasync function handleDeletePost(postId) {\r\n\t\tconst docRef = doc(db, \"posts\", postId);\r\n\t\tSwal.fire({\r\n\t\t\ttitle: \"Are you sure?\",\r\n\t\t\ttext: \"You won't be able to revert this!\",\r\n\t\t\ticon: \"warning\",\r\n\t\t\tshowCancelButton: true,\r\n\t\t\tconfirmButtonColor: \"#3085d6\",\r\n\t\t\tcancelButtonColor: \"#d33\",\r\n\t\t\tconfirmButtonText: \"Yes, delete it!\",\r\n\t\t}).then(async (result) => {\r\n\t\t\tif (result.isConfirmed) {\r\n\t\t\t\tawait deleteDoc(docRef);\r\n\t\t\t\tSwal.fire(\"Deleted!\", \"Your post has been deleted.\", \"success\");\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\tconst renderPostStatus = (status) => {\r\n\t\tswitch (status) {\r\n\t\t\tcase postStatus.APPROVED:\r\n\t\t\t\treturn <LabelStatus type=\"success\">Approved</LabelStatus>;\r\n\t\t\tcase postStatus.PENDING:\r\n\t\t\t\treturn <LabelStatus type=\"warning\">Pending</LabelStatus>;\r\n\t\t\tcase postStatus.REJECTED:\r\n\t\t\t\treturn <LabelStatus type=\"danger\">Rejected</LabelStatus>;\r\n\t\t\tdefault:\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\t};\r\n\tconst handleSearchPost = debounce((e) => {\r\n\t\tsetFilter(e.target.value);\r\n\t}, 250);\r\n\tconst handleLoadMorePost = async () => {\r\n\t\tconst nextRef = query(\r\n\t\t\tcollection(db, \"posts\"),\r\n\t\t\tstartAfter(lastDoc || 0),\r\n\t\t\tlimit(POST_PER_PAGE)\r\n\t\t);\r\n\r\n\t\tonSnapshot(nextRef, (snapshot) => {\r\n\t\t\tlet results = [];\r\n\t\t\tsnapshot.forEach((doc) => {\r\n\t\t\t\tresults.push({\r\n\t\t\t\t\tid: doc.id,\r\n\t\t\t\t\t...doc.data(),\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t\tsetPostList([...postList, ...results]);\r\n\t\t});\r\n\t\tconst documentSnapshots = await getDocs(nextRef);\r\n\t\tconst lastVisible =\r\n\t\t\tdocumentSnapshots.docs[documentSnapshots.docs.length - 1];\r\n\t\tsetLastDoc(lastVisible);\r\n\t};\r\n\tconst { userInfo } = useAuth();\r\n\tif (userInfo.role !== userRole.ADMIN) return null;\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<h1 className=\"dashboard-heading\">Manage post</h1>\r\n\t\t\t<div className=\"mb-10 flex justify-end\">\r\n\t\t\t\t<div className=\"w-full max-w-[300px]\">\r\n\t\t\t\t\t<input\r\n\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\tclassName=\"w-full p-4 rounded-lg border border-solid border-gray-300\"\r\n\t\t\t\t\t\tplaceholder=\"Search post...\"\r\n\t\t\t\t\t\tonChange={handleSearchPost}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<Table>\r\n\t\t\t\t<thead>\r\n\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t<th></th>\r\n\t\t\t\t\t\t<th>Id</th>\r\n\t\t\t\t\t\t<th>Post</th>\r\n\t\t\t\t\t\t<th>Category</th>\r\n\t\t\t\t\t\t<th>Author</th>\r\n\t\t\t\t\t\t<th>Actions</th>\r\n\t\t\t\t\t\t<th>Status</th>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</thead>\r\n\t\t\t\t<tbody>\r\n\t\t\t\t\t{postList.length > 0 &&\r\n\t\t\t\t\t\tpostList.map((post) => {\r\n\t\t\t\t\t\t\tconst date = post?.createdAt?.seconds\r\n\t\t\t\t\t\t\t\t? new Date(post?.createdAt?.seconds * 1000)\r\n\t\t\t\t\t\t\t\t: new Date();\r\n\t\t\t\t\t\t\tconst formatDate = new Date(\r\n\t\t\t\t\t\t\t\tdate\r\n\t\t\t\t\t\t\t).toLocaleDateString(\"vi-VI\");\r\n\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t<tr key={post.id}>\r\n\t\t\t\t\t\t\t\t\t<td></td>\r\n\t\t\t\t\t\t\t\t\t<td>{post.id?.slice(0, 5) + \"...\"}</td>\r\n\t\t\t\t\t\t\t\t\t<td>\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"flex items-center gap-x-3\">\r\n\t\t\t\t\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\t\t\t\t\tsrc={post.image}\r\n\t\t\t\t\t\t\t\t\t\t\t\talt=\"\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"w-[66px] h-[55px] rounded object-cover\"\r\n\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"flex-1\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<h3 className=\"font-semibold max-w-[200px] whitespace-pre-wrap\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{post.title?.slice(0, 20) +\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"...\"}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</h3>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<time className=\"text-sm text-gray-500\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tDate: {formatDate}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</time>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t\t<td>\r\n\t\t\t\t\t\t\t\t\t\t<span className=\"text-gray-500\">\r\n\t\t\t\t\t\t\t\t\t\t\t{post.category?.name}\r\n\t\t\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t\t<td>\r\n\t\t\t\t\t\t\t\t\t\t<span className=\"text-gray-500\">\r\n\t\t\t\t\t\t\t\t\t\t\t{post.user?.username}\r\n\t\t\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t\t<td>{renderPostStatus(post.status)}</td>\r\n\t\t\t\t\t\t\t\t\t<td>\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"flex items-center gap-x-3 text-gray-500\">\r\n\t\t\t\t\t\t\t\t\t\t\t<ActionView\r\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={() =>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tnavigate(`/${post.slug}`)\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t<ActionEdit\r\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={() =>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tnavigate(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t`/manage/update-post?id=${post.id}`\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t<ActionDelete\r\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={() =>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\thandleDeletePost(post.id)\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t})}\r\n\t\t\t\t</tbody>\r\n\t\t\t</Table>\r\n\r\n\t\t\t{total > postList.length && (\r\n\t\t\t\t<div className=\"mt-10 text-center\">\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\tclassName=\"mx-auto w-[200px]\"\r\n\t\t\t\t\t\tonClick={handleLoadMorePost}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\tLoad More\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</div>\r\n\t\t\t)}\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default PostManage;\r\n"],"names":["onClick","className","xmlns","fill","viewBox","stroke","strokeWidth","strokeLinecap","strokeLinejoin","d","LabelStyles","styled","props","theme","gray4b","htmlFor","children","LabelStatusStyles","type","styleClassName","TableStyles","Table","require","default","useState","postList","setPostList","filter","setFilter","lastDoc","setLastDoc","total","setTotal","navigate","useNavigate","postId","docRef","doc","db","Swal","title","text","icon","showCancelButton","confirmButtonColor","cancelButtonColor","confirmButtonText","then","result","isConfirmed","deleteDoc","useEffect","colRef","collection","newRef","query","where","limit","getDocs","documentSnapshots","lastVisible","docs","length","onSnapshot","snapshot","size","results","forEach","push","id","data","fetchData","renderPostStatus","status","postStatus","handleSearchPost","debounce","e","target","value","handleLoadMorePost","nextRef","startAfter","useAuth","userInfo","role","userRole","placeholder","onChange","map","post","date","createdAt","seconds","Date","formatDate","toLocaleDateString","slice","src","image","alt","category","name","user","username","slug","handleDeletePost"],"sourceRoot":""}