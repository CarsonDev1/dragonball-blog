"use strict";(self.webpackChunkmonkey_blogging=self.webpackChunkmonkey_blogging||[]).push([[231],{5031:function(n,e,t){t.d(e,{nO:function(){return s},yd:function(){return o},kl:function(){return i}});t(2791);var r=t(184),i=function(n){var e=n.onClick,t=void 0===e?function(){}:e;return(0,r.jsx)("span",{className:"flex items-center justify-center w-10 h-10 border border-gray-200 rounded cursor-pointer",onClick:t,children:(0,r.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:[(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})})},o=function(n){var e=n.onClick,t=void 0===e?function(){}:e;return(0,r.jsx)("span",{className:"flex items-center justify-center w-10 h-10 border border-gray-200 rounded cursor-pointer",onClick:t,children:(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})})})},s=function(n){var e=n.onClick,t=void 0===e?function(){}:e;return(0,r.jsx)("span",{className:"flex items-center justify-center w-10 h-10 border border-gray-200 rounded cursor-pointer",onClick:t,children:(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})}},6848:function(n,e,t){t.d(e,{_:function(){return h},O:function(){return x}});var r,i,o=t(1413),s=t(4925),c=t(168),a=(t(2791),t(6444)),d=t(184),u=["htmlFor","children"],l=a.ZP.label(r||(r=(0,c.Z)(["\n\tcolor: ",";\n\tfont-weight: 500;\n\tfont-size: 14px;\n\tcursor: pointer;\n"])),(function(n){return n.theme.gray4b})),h=function(n){var e=n.htmlFor,t=void 0===e?"":e,r=n.children,i=(0,s.Z)(n,u);return(0,d.jsx)(l,(0,o.Z)((0,o.Z)({htmlFor:t},i),{},{children:r}))},f=a.ZP.span(i||(i=(0,c.Z)(["\n\tdisplay: inline-block;\n\tpadding: 10px 15px;\n\tborder-radius: 8px;\n\tfont-size: 14px;\n\tfont-weight: 500;\n"]))),x=function(n){var e=n.children,t=n.type,r="text-gray-500 bg-gray-100";switch(void 0===t?"default":t){case"success":r="text-green-500 bg-green-100";break;case"warning":r="text-orange-500 bg-orange-100";break;case"danger":r="text-red-500 bg-red-100"}return(0,d.jsx)(f,{className:r,children:e})}},1538:function(n,e,t){t.r(e);var r,i=t(168),o=(t(2791),t(6444)),s=t(184),c=o.ZP.div(r||(r=(0,i.Z)(["\n\toverflow-x: auto;\n\tbackground-color: white;\n\tborder-radius: 10px;\n\ttable {\n\t\twidth: 100%;\n\t}\n\tthead {\n\t\tbackground-color: #f7f7f8;\n\t}\n\tth,\n\ttd {\n\t\tvertical-align: middle;\n\t}\n\tth {\n\t\tpadding: 20px 30px;\n\t\tfont-weight: 600;\n\t\ttext-align: left;\n\t}\n\ttd {\n\t\tpadding: 15px 30px;\n\t}\n\ttbody {\n\t}\n"])));e.default=function(n){var e=n.children;return(0,s.jsx)(c,{children:(0,s.jsx)("table",{children:e})})}},8791:function(n,e,t){t.d(e,{i:function(){return r}});var r=t(1538).default},231:function(n,e,t){t.r(e);var r=t(4165),i=t(3433),o=t(1413),s=t(5861),c=t(9439),a=t(5031),d=t(4167),u=t(6848),l=t(8791),h=t(1199),f=t(9062),x=t(8322),p=t(2791),g=t(3585),v=t(1830),j=t.n(v),m=t(7689),b=t(763),k=t(9808),w=t(184);e.default=function(){var n=(0,p.useState)([]),e=(0,c.Z)(n,2),t=e[0],v=e[1],y=(0,m.s0)(),Z=(0,p.useState)(void 0),C=(0,c.Z)(Z,2),N=C[0],L=C[1],O=(0,p.useState)(),P=(0,c.Z)(O,2),z=P[0],A=P[1],B=(0,p.useState)(0),M=(0,c.Z)(B,2),S=M[0],I=M[1],E=function(){var n=(0,s.Z)((0,r.Z)().mark((function n(){var e,s,c;return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e=(0,f.IO)((0,f.hJ)(h.db,"categories"),(0,f.TQ)(z||0),(0,f.b9)(5)),(0,f.cf)(e,(function(n){var e=[];n.forEach((function(n){e.push((0,o.Z)({id:n.id},n.data()))})),v([].concat((0,i.Z)(t),e))})),n.next=4,(0,f.PL)(e);case 4:s=n.sent,c=s.docs[s.docs.length-1],A(c);case 7:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();(0,p.useEffect)((function(){function n(){return(n=(0,s.Z)((0,r.Z)().mark((function n(){var e,t,i,s;return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e=(0,f.hJ)(h.db,"categories"),t=N?(0,f.IO)(e,(0,f.ar)("name",">=",N),(0,f.ar)("name","<=",N+"utf8")):(0,f.IO)(e,(0,f.b9)(5)),n.next=4,(0,f.PL)(t);case 4:i=n.sent,s=i.docs[i.docs.length-1],(0,f.cf)(e,(function(n){I(n.size)})),(0,f.cf)(t,(function(n){var e=[];n.forEach((function(n){e.push((0,o.Z)({id:n.id},n.data()))})),v(e)})),A(s);case 9:case"end":return n.stop()}}),n)})))).apply(this,arguments)}!function(){n.apply(this,arguments)}()}),[N]);var D=(0,k.a)().userInfo;if((null===D||void 0===D?void 0:D.role)!==g.xZ.ADMIN)return null;var F=function(){var n=(0,s.Z)((0,r.Z)().mark((function n(e){var t;return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:t=(0,f.JU)(h.db,"categories",e),j().fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then(function(){var n=(0,s.Z)((0,r.Z)().mark((function n(e){return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!e.isConfirmed){n.next=4;break}return n.next=3,(0,f.oe)(t);case 3:j().fire("Deleted!","Your file has been deleted.","success");case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}());case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),H=(0,b.debounce)((function(n){L(n.target.value)}),500);return(0,w.jsxs)("div",{children:[(0,w.jsx)(x.Z,{title:"Categories",desc:"Manage your category",children:(0,w.jsx)(d.z,{kind:"ghost",height:"60px",to:"/manage/add-category",children:"Create category"})}),(0,w.jsx)("div",{className:"flex justify-end mb-10",children:(0,w.jsx)("input",{type:"text",placeholder:"Search category...",className:"px-5 py-4 border border-gray-300 rounded-lg",onChange:H})}),(0,w.jsxs)(l.i,{children:[(0,w.jsx)("thead",{children:(0,w.jsxs)("tr",{children:[(0,w.jsx)("th",{children:"Id"}),(0,w.jsx)("th",{children:"Name"}),(0,w.jsx)("th",{children:"Slug"}),(0,w.jsx)("th",{children:"Status"}),(0,w.jsx)("th",{children:"Actions"})]})}),(0,w.jsx)("tbody",{children:t.length>0&&t.map((function(n){return(0,w.jsxs)("tr",{children:[(0,w.jsx)("td",{children:n.id}),(0,w.jsx)("td",{children:n.name}),(0,w.jsx)("td",{children:(0,w.jsx)("span",{className:"italic text-gray-400",children:n.slug})}),(0,w.jsxs)("td",{children:[Number(n.status)===g.bk.APPROVED&&(0,w.jsx)(u.O,{type:"success",children:"Approved"}),Number(n.status)===g.bk.UNAPPROVED&&(0,w.jsx)(u.O,{type:"warning",children:"Unapproved"})]}),(0,w.jsx)("td",{children:(0,w.jsxs)("div",{className:"flex items-center text-gray-500 gap-x-3",children:[(0,w.jsx)(a.kl,{onClick:function(){return y("/category/".concat(n.slug))}}),(0,w.jsx)(a.yd,{onClick:function(){return y("/manage/update-category?id=".concat(n.id))}}),(0,w.jsx)(a.nO,{onClick:function(){return F(n.id)}})]})})]},n.id)}))})]}),S>t.length&&(0,w.jsxs)("div",{className:"mt-10",children:[(0,w.jsx)(d.z,{onClick:E,className:"mx-auto",children:"Load more"}),S]})]})}},8322:function(n,e,t){t(2791);var r=t(184);e.Z=function(n){var e=n.title,t=void 0===e?"":e,i=n.desc,o=void 0===i?"":i,s=n.children;return(0,r.jsxs)("div",{className:"mb-10 flex items-start justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h1",{className:"dashboard-heading",children:t}),(0,r.jsx)("p",{className:"dashboard-short-desc",children:o})]}),s]})}}}]);
//# sourceMappingURL=231.4a7a84b7.chunk.js.map