"use strict";(self.webpackChunkmonkey_blogging=self.webpackChunkmonkey_blogging||[]).push([[322],{5456:function(e,n,t){t.d(n,{Y:function(){return l}});t(2791);var r=t(184),a=t(1413),o=t(4925),i=t(1134),s=["checked","children","control","name"],l=function(e){var n=e.checked,t=e.children,l=e.control,c=e.name,d=(0,o.Z)(e,s),u=(0,i.bc)({control:l,name:c,defaultValue:""}).field;return(0,r.jsxs)("label",{children:[(0,r.jsx)("input",(0,a.Z)((0,a.Z)({onChange:function(){},checked:n,type:"radio",className:"hidden-input"},u),d)),(0,r.jsxs)("div",{className:"flex items-center gap-x-3 font-medium cursor-pointer",children:[(0,r.jsx)("div",{className:"w-7 h-7 rounded-full ".concat(n?"bg-green-400":"bg-gray-200")}),(0,r.jsx)("span",{children:t})]})]})}},9248:function(e,n,t){t.d(n,{g:function(){return l},Y:function(){return c}});var r,a=t(168),o=(t(2791),t(6444)),i=t(184),s=o.ZP.div(r||(r=(0,a.Z)(["\n\tdisplay: flex;\n\tflex-direction: column;\n\talign-items: flex-start;\n\trow-gap: 20px;\n\tmargin-bottom: 40px;\n\t&:last-child {\n\t\tmargin-bottom: 0;\n\t}\n"]))),l=function(e){var n=e.children;return(0,i.jsx)(s,{children:n})},c=function(e){var n=e.children;return(0,i.jsx)("div",{className:"flex flex-wrap gap-5",children:n})}},3031:function(e,n,t){var r=t(1413),a=t(4925),o=t(2791),i=t(184),s=["name","className","progress","image","handleDeleteImage"];n.Z=function(e){var n=e.name,t=e.className,l=void 0===t?"":t,c=e.progress,d=void 0===c?0:c,u=e.image,h=void 0===u?"":u,m=e.handleDeleteImage,p=void 0===m?function(){}:m,f=(0,a.Z)(e,s);return(0,i.jsxs)("label",{className:"cursor-pointer flex items-center justify-center border border-dashed w-full min-h-[200px] rounded-lg ".concat(l," relative overflow-hidden group"),children:[(0,i.jsx)("input",(0,r.Z)({type:"file",name:n,className:"hidden-input",onChange:function(){}},f)),0!==d&&!h&&(0,i.jsx)("div",{className:"absolute z-10 w-16 h-16 border-8 border-green-500 rounded-full loading border-t-transparent animate-spin"}),!h&&0===d&&(0,i.jsxs)("div",{className:"flex flex-col items-center text-center pointer-events-none",children:[(0,i.jsx)("img",{src:"/img-upload.png",alt:"upload-img",className:"max-w-[80px] mb-5"}),(0,i.jsx)("p",{className:"font-semibold",children:"Choose photo"})]}),h&&(0,i.jsxs)(o.Fragment,{children:[(0,i.jsx)("img",{src:h,className:"object-cover w-full h-full",alt:""}),(0,i.jsx)("button",{type:"button",className:"absolute z-10 flex items-center justify-center invisible w-16 h-16 text-red-500 transition-all bg-white rounded-full opacity-0 cursor-pointer group-hover:opacity-100 group-hover:visible",onClick:p,children:(0,i.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:(0,i.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]}),!h&&(0,i.jsx)("div",{className:"absolute bottom-0 left-0 w-10 h-1 transition-all bg-green-400 image-upload-progress",style:{width:"".concat(Math.ceil(d),"%")}})]})}},3175:function(e,n,t){var r,a=t(1413),o=t(4925),i=t(168),s=(t(2791),t(1134)),l=t(6444),c=t(184),d=["name","type","children","control"],u=l.ZP.div(r||(r=(0,i.Z)(["\n\tposition: relative;\n\twidth: 100%;\n\tinput {\n\t\twidth: 100%;\n\t\tpadding: ",";\n\t\tbackground-color: ",";\n\t\tborder-radius: 8px;\n\t\tfont-weight: 500;\n\t\ttransition: all 0.2s linear;\n\t\tborder: 1px solid transparent;\n\t}\n\tinput:focus {\n\t\tbackground-color: white;\n\t\tborder-color: ",";\n\t}\n\tinput::-webkit-input-placeholder {\n\t\tcolor: #84878b;\n\t}\n\tinput::-moz-input-placeholder {\n\t\tcolor: #84878b;\n\t}\n\t.input-icon {\n\t\tposition: absolute;\n\t\tright: 20px;\n\t\ttop: 50%;\n\t\ttransform: translateY(-50%);\n\t\tcursor: pointer;\n\t}\n"])),(function(e){return e.hasIcon?"20px 60px 20px 20px":"20px"}),(function(e){return e.theme.grayLight}),(function(e){return e.theme.primary}));n.Z=function(e){var n=e.name,t=void 0===n?"":n,r=e.type,i=void 0===r?"text":r,l=e.children,h=e.control,m=(0,o.Z)(e,d),p=(0,s.bc)({control:h,name:t,defaultValue:""}).field;return(0,c.jsxs)(u,{hasIcon:!!l,children:[(0,c.jsx)("input",(0,a.Z)((0,a.Z)({id:t,type:i},p),m)),l?(0,c.jsx)("div",{className:"input-icon",children:l}):null]})}},3117:function(e,n,t){t.d(n,{I:function(){return r.Z}});var r=t(3175)},6848:function(e,n,t){t.d(n,{_:function(){return h},O:function(){return p}});var r,a,o=t(1413),i=t(4925),s=t(168),l=(t(2791),t(6444)),c=t(184),d=["htmlFor","children"],u=l.ZP.label(r||(r=(0,s.Z)(["\n\tcolor: ",";\n\tfont-weight: 500;\n\tfont-size: 14px;\n\tcursor: pointer;\n"])),(function(e){return e.theme.gray4b})),h=function(e){var n=e.htmlFor,t=void 0===n?"":n,r=e.children,a=(0,i.Z)(e,d);return(0,c.jsx)(u,(0,o.Z)((0,o.Z)({htmlFor:t},a),{},{children:r}))},m=l.ZP.span(a||(a=(0,s.Z)(["\n\tdisplay: inline-block;\n\tpadding: 10px 15px;\n\tborder-radius: 8px;\n\tfont-size: 14px;\n\tfont-weight: 500;\n"]))),p=function(e){var n=e.children,t=e.type,r="text-gray-500 bg-gray-100";switch(void 0===t?"default":t){case"success":r="text-green-500 bg-green-100";break;case"warning":r="text-orange-500 bg-orange-100";break;case"danger":r="text-red-500 bg-red-100"}return(0,c.jsx)(m,{className:r,children:n})}},7531:function(e,n,t){t.r(n);var r,a=t(1413),o=t(4925),i=t(168),s=(t(2791),t(6444)),l=t(1134),c=t(184),d=["name","type","children","control"],u=s.ZP.div(r||(r=(0,i.Z)(["\n\tposition: relative;\n\twidth: 100%;\n\ttextarea {\n\t\twidth: 100%;\n\t\tpadding: 16px 20px;\n\t\tbackground-color: transparent;\n\t\tborder: 1px solid ",";\n\t\tborder-radius: 8px;\n\t\ttransition: all 0.2s linear;\n\t\tcolor: ",";\n\t\tfont-size: 14px;\n\t\tresize: none;\n\t\tmin-height: 200px;\n\t}\n\ttextarea::-webkit-input-placeholder {\n\t\tcolor: #b2b3bd;\n\t}\n\ttextarea::-moz-input-placeholder {\n\t\tcolor: #b2b3bd;\n\t}\n"])),(function(e){return e.theme.grayf1}),(function(e){return e.theme.black}));n.default=function(e){var n=e.name,t=void 0===n?"":n,r=e.type,i=void 0===r?"text":r,s=(e.children,e.control),h=(0,o.Z)(e,d),m=(0,l.bc)({control:s,name:t,defaultValue:""}).field;return(0,c.jsx)(u,{children:(0,c.jsx)("textarea",(0,a.Z)((0,a.Z)({id:t,type:i},m),h))})}},1776:function(e,n,t){t.d(n,{Z:function(){return i}});var r=t(9439),a=t(4453),o=t(2791);function i(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=(0,o.useState)(0),s=(0,r.Z)(i,2),l=s[0],c=s[1],d=(0,o.useState)(""),u=(0,r.Z)(d,2),h=u[0],m=u[1];if(e&&n){var p=function(e){var n=(0,a.cF)(),t=(0,a.iH)(n,"images/"+e.name),r=(0,a.B0)(t,e);r.on("state_changed",(function(e){var n=e.bytesTransferred/e.totalBytes*100;switch(c(n),console.log("Upload is "+l+"% done"),e.state){case"paused":console.log("Upload is paused");break;case"running":console.log("Upload is running");break;default:console.log("Nothing at all")}}),(function(e){console.log("Error")}),(function(){(0,a.Jt)(r.snapshot.ref).then((function(e){m(e)}))}))},f=function(n){var t=n.target.files[0];t&&(e("image_name",t.name),p(t))},x=function(){var e=(0,a.cF)(),r=(0,a.iH)(e,"images/"+(t||n("image_name")));(0,a.oq)(r).then((function(){console.log("Remove image successfully"),m(""),c(0)})).catch((function(e){console.log("Can not delete image")})),m("")},g=function(){m(""),c(0)};return{image:h,setImage:m,handleResetUpload:g,progress:l,handleSelectImage:f,handleDeleteImage:x}}}},8322:function(e,n,t){t(2791);var r=t(184);n.Z=function(e){var n=e.title,t=void 0===n?"":n,a=e.desc,o=void 0===a?"":a,i=e.children;return(0,r.jsxs)("div",{className:"mb-10 flex items-start justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h1",{className:"dashboard-heading",children:t}),(0,r.jsx)("p",{className:"dashboard-short-desc",children:o})]}),i]})}},3322:function(e,n,t){t.r(n),t.d(n,{default:function(){return N}});var r=t(4165),a=t(1413),o=t(5861),i=t(9439),s=t(4167),l=t(5456),c=t(9248),d=t(3031),u=t(3117),h=t(6848),m=t(7531).default,p=(t(9808),t(1199)),f=t(9062),x=t(1776),g=t(8322),v=t(2791),b=t(1134),j=t(1087),Z=t(9085),y=(t(1830),t(3585)),w=t(184),N=function(){var e=(0,b.cI)({mode:"onChange"}),n=e.control,t=e.handleSubmit,N=e.watch,k=e.reset,I=e.getValues,U=e.setValue,E=e.formState,_=E.isValid,C=E.isSubmitting,D=(0,j.lr)(),S=(0,i.Z)(D,1)[0].get("id"),A=N("status"),Y=N("role"),z=I("avatar"),P=/%2F(\S+)\?/gm.exec(z),V=(null===P||void 0===P?void 0:P.length)>0?P[1]:"",F=(0,x.Z)(U,I,V,(function(){return T.apply(this,arguments)})),M=F.image,Q=F.progress,B=F.setImage,L=F.handleSelectImage,R=F.handleDeleteImage,J=function(){var e=(0,o.Z)((0,r.Z)().mark((function e(n){var t;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(_){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,t=(0,f.JU)(p.db,"users",S),e.next=6,(0,f.r7)(t,(0,a.Z)((0,a.Z)({},n),{},{avatar:M}));case 6:Z.Am.success("Update user information successfully!"),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(2),console.log(e.t0),Z.Am.error("Update user failed!");case 13:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(n){return e.apply(this,arguments)}}();function T(){return(T=(0,o.Z)((0,r.Z)().mark((function e(){var n;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=(0,f.JU)(p.db,"users",S),e.next=3,(0,f.r7)(n,{avatar:""});case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return(0,v.useEffect)((function(){B(z)}),[z,B]),(0,v.useEffect)((function(){function e(){return(e=(0,o.Z)((0,r.Z)().mark((function e(){var n,t;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(S){e.next=2;break}return e.abrupt("return");case 2:return n=(0,f.JU)(p.db,"users",S),e.next=5,(0,f.QT)(n);case 5:t=e.sent,k(t&&t.data());case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[S,k]),S?(0,w.jsxs)("div",{children:[(0,w.jsx)(g.Z,{title:"Update user",desc:"Update user information"}),(0,w.jsxs)("form",{onSubmit:t(J),children:[(0,w.jsx)("div",{className:"w-[200px] h-[200px] mx-auto rounded-full mb-10",children:(0,w.jsx)(d.Z,{className:"!rounded-full h-full",onChange:L,handleDeleteImage:R,progress:Q,image:M})}),(0,w.jsxs)("div",{className:"form-layout",children:[(0,w.jsxs)(c.g,{children:[(0,w.jsx)(h._,{children:"Fullname"}),(0,w.jsx)(u.I,{name:"fullname",placeholder:"Enter your fullname",control:n})]}),(0,w.jsxs)(c.g,{children:[(0,w.jsx)(h._,{children:"Username"}),(0,w.jsx)(u.I,{name:"username",placeholder:"Enter your username",control:n})]})]}),(0,w.jsxs)("div",{className:"form-layout",children:[(0,w.jsxs)(c.g,{children:[(0,w.jsx)(h._,{children:"Email"}),(0,w.jsx)(u.I,{name:"email",placeholder:"Enter your email",control:n,type:"email"})]}),(0,w.jsxs)(c.g,{children:[(0,w.jsx)(h._,{children:"Password"}),(0,w.jsx)(u.I,{name:"password",placeholder:"Enter your password",control:n,type:"password"})]})]}),(0,w.jsxs)("div",{className:"form-layout",children:[(0,w.jsxs)(c.g,{children:[(0,w.jsx)(h._,{children:"Status"}),(0,w.jsxs)(c.Y,{children:[(0,w.jsx)(l.Y,{name:"status",control:n,checked:Number(A)===y.iQ.ACTIVE,value:y.iQ.ACTIVE,children:"Active"}),(0,w.jsx)(l.Y,{name:"status",control:n,checked:Number(A)===y.iQ.PENDING,value:y.iQ.PENDING,children:"Pending"}),(0,w.jsx)(l.Y,{name:"status",control:n,checked:Number(A)===y.iQ.BAN,value:y.iQ.BAN,children:"Banned"})]})]}),(0,w.jsxs)(c.g,{children:[(0,w.jsx)(h._,{children:"Role"}),(0,w.jsxs)(c.Y,{children:[(0,w.jsx)(l.Y,{name:"role",control:n,checked:Number(Y)===y.xZ.ADMIN,value:y.xZ.ADMIN,children:"Admin"}),(0,w.jsx)(l.Y,{name:"role",control:n,checked:Number(Y)===y.xZ.MOD,value:y.xZ.MOD,children:"Moderator"}),(0,w.jsx)(l.Y,{name:"role",control:n,checked:Number(Y)===y.xZ.USER,value:y.xZ.USER,children:"User"})]})]})]}),(0,w.jsx)("div",{className:"form-layout",children:(0,w.jsxs)(c.g,{children:[(0,w.jsx)(h._,{children:"Description"}),(0,w.jsx)(m,{name:"description",control:n})]})}),(0,w.jsx)(s.z,{kind:"primary",type:"submit",className:"mx-auto w-[200px]",isLoading:C,disabled:C,children:"Update"})]})]}):null}}}]);
//# sourceMappingURL=322.507ef69b.chunk.js.map